<html>

<head>
    <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>
    <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'>
    <script type="text/javascript"
            src="//dapi.kakao.com/v2/maps/sdk.js?appkey=6fd2328f32ab215386da9577afe7952f&libraries=services,clusterer"
    >
    </script>
</head>

<body onload="createMap();">
    <div id="map" style="width:100wh;height:70vh;"></div>
</body>

<script>

    function getUrlParams() {
        var urlParams = location.search.split(/[?&]/).slice(1).map(function(paramPair) {
            return paramPair.split(/=(.+)?/).slice(0, 2);
        }).reduce(function(obj, pairArray) {
            obj[pairArray[0]] = pairArray[1];
            return obj;
        }, {});
        return urlParams;
    }

    function createMap(){
        var params = getUrlParams();
        console.log(params);

        var container = document.getElementById('map');
        var options = {
            center: new kakao.maps.LatLng(params.y, params.x),
            level: 3
        };

        var map = new kakao.maps.Map(container, options)

        var markerPosition  = new kakao.maps.LatLng(params.y, params.x);
        var marker = new kakao.maps.Marker({
            position: markerPosition
        });
        marker.setMap(map);

    }

    function keywordSearch() {
        var places = new kakao.maps.services.Places();
        places.setMap(map);

        var callback = function(result, status) {
            if (status === kakao.maps.services.Status.OK) {
                console.log(result);
            }
        };

        places.keywordSearch('판교 치킨', callback);
    }

</script>

</html>